{"version":3,"file":"editor.min.js","sources":["../src/editor.js"],"sourcesContent":["/* eslint-disable no-console */\n// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\nexport const loadCss = async function(editorconfig) {\n    var select = document.querySelector('#id_stylesheetid');\n    if (select) {\n        select.addEventListener('change', change_stylesheet);\n    }\n    /**\n     * Function to wait until tinyMCE is loaded\n     * @returns {Promise}\n     */\n    function waitUntilTinyMCELoaded() {\n        return new Promise((resolve) => {\n            /**\n             * Check if tinyMCE object is available\n             */\n            function checkIfLoaded() {\n                if (window.tinyMCE) {\n                    // If tinyMCE is available, resolve the promise\n                    resolve(window.tinyMCE);\n                } else {\n                    // If not, wait and check again\n                    setTimeout(checkIfLoaded, 100); // Check every 100 milliseconds\n                }\n            }\n            checkIfLoaded();\n        });\n    }\n\n    /**\n     * Function to change CSS for the content inside TinyMCE\n     */\n    waitUntilTinyMCELoaded()\n        .then((tinyMCE) => {\n            console.log('tinyMCE is loaded:', tinyMCE);\n            const existingEditor = tinyMCE.add('id_htmlcontent');\n            if(existingEditor) {\n                console.log(existingEditor);\n            }\n            // Call function to change CSS for TinyMCE content\n            tinyMCE.init(editorconfig);\n            change_stylesheet();\n        });\n\n    /**\n     * Changes the stylesheet based on the selected option.\n     */\n    function change_stylesheet() {\n        console.log('config');\n    }\n};\n"],"names":["async","editorconfig","select","document","querySelector","change_stylesheet","console","log","addEventListener","Promise","resolve","checkIfLoaded","window","tinyMCE","setTimeout","then","existingEditor","add","init"],"mappings":"gKAgBuBA,eAAeC,kBAC9BC,OAASC,SAASC,cAAc,6BA4C3BC,oBACLC,QAAQC,IAAI,UA5CZL,QACAA,OAAOM,iBAAiB,SAAUH,mBAO3B,IAAII,SAASC,oBAIPC,gBACDC,OAAOC,QAEPH,QAAQE,OAAOC,SAGfC,WAAWH,cAAe,KAGlCA,MAQHI,MAAMF,UACHP,QAAQC,IAAI,qBAAsBM,eAC5BG,eAAiBH,QAAQI,IAAI,kBAChCD,gBACCV,QAAQC,IAAIS,gBAGhBH,QAAQK,KAAKjB,cACbI"}