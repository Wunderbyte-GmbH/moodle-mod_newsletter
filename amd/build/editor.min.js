define("mod_newsletter/editor",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.loadCss=void 0;
/**
   * Loads CSS for Editor
   *
   * @module     mod_newsletter/load_CSS
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
var newsletter={mod_newsletter:{}};newsletter.mod_newsletter.collapse_subscribe_form=function(){var fieldset=document.querySelector("form #id_subscribe");fieldset&&fieldset.classList.add("collapsed")};_exports.loadCss=async function(stylesheets,selected){var select=document.querySelector("#id_stylesheetid");function change_stylesheet(e){let selectedIndex=e.target.value;tinyMCE.remove(),tinyMCE.init({selector:"textarea",content_css:stylesheets[selectedIndex]})}new Promise((resolve=>{!function checkIfLoaded(){window.tinyMCE?resolve(window.tinyMCE):setTimeout(checkIfLoaded,100)}()})).then((tinyMCE=>{console.log("tinyMCE is loaded:",tinyMCE),change_stylesheet({target:select}),tinyMCE.init({content_css:stylesheets[selected]})})),select?select.addEventListener("change",change_stylesheet):setTimeout((function(){newsletter.mod_newsletter.init_editor(stylesheets,selected)}),100)}}));

//# sourceMappingURL=editor.min.js.map